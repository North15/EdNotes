{"version":3,"file":"ednotes.richtext.umd.js","sources":["../src/EdNotes.RichText/wwwroot/editor/core/Schema.js","../src/EdNotes.RichText/wwwroot/editor/core/Normalizer.js","../src/EdNotes.RichText/wwwroot/editor/core/Selection.js","../src/EdNotes.RichText/wwwroot/editor/core/CommandBus.js","../src/EdNotes.RichText/wwwroot/editor/ednotes.richtext.bundle.js"],"sourcesContent":["// Core schema definition (V1) â€“ no media, strict allowlist.\r\nexport const ALLOWED_BLOCKS = new Set(['p','h1','h2','h3','ul','ol','li','blockquote','pre','code','hr','table','thead','tbody','tr','th','td','span']);\r\nexport const ALLOWED_MARKS = new Set(['strong','em','u','a']);\r\nexport const ALLOWED_ATTRS = new Set(['href','target','rel','colspan','rowspan','data-list','data-checked','class']);\r\nexport const LINK_PROTOCOL_ALLOW = /^(https?:|mailto:|tel:)/i;\r\n\r\nexport function isAllowedTag(tag){ tag = tag.toLowerCase(); return ALLOWED_BLOCKS.has(tag) || ALLOWED_MARKS.has(tag); }\r\n\r\nexport function enforceLinkPolicy(a){\r\n  if(!a.getAttribute('href')) return;\r\n  let href = a.getAttribute('href');\r\n  // Trim leading/trailing whitespace\r\n  const originalHref = href;\r\n  href = href.trim();\r\n  // Decode once to catch simple encoded javascript: patterns\r\n  try { href = decodeURIComponent(href); } catch(_) { /* ignore decode issues */ }\r\n  // Explicitly block javascript: (any casing) after trimming/decoding\r\n  if(/^javascript:/i.test(href)) { \r\n    a.removeAttribute('href'); \r\n    a.setAttribute('target','_blank');\r\n    a.setAttribute('rel','noopener noreferrer');\r\n    return; \r\n  }\r\n  if(!LINK_PROTOCOL_ALLOW.test(href)) { \r\n    a.removeAttribute('href'); \r\n    a.setAttribute('target','_blank');\r\n    a.setAttribute('rel','noopener noreferrer');\r\n    return; \r\n  }\r\n  if(href !== originalHref) a.setAttribute('href', href);\r\n  a.setAttribute('target','_blank');\r\n  a.setAttribute('rel','noopener noreferrer');\r\n}\r\n","import { isAllowedTag, ALLOWED_ATTRS, enforceLinkPolicy } from './Schema.js';\r\n\r\nexport function normalize(root){\r\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, null);\r\n  const toRemove = [];\r\n  while(walker.nextNode()){\r\n    const el = walker.currentNode;\r\n    const tag = el.tagName.toLowerCase();\r\n  if(tag === 'script' || tag === 'iframe') { toRemove.push(el); continue; }\r\n  // Remove any embedded script/iframe children early\r\n  el.querySelectorAll && el.querySelectorAll('script,iframe').forEach(child=> child.remove());\r\n    if(!isAllowedTag(tag)){\r\n      if(el.childNodes.length){\r\n        while(el.firstChild) el.parentNode.insertBefore(el.firstChild, el);\r\n      }\r\n      toRemove.push(el);\r\n      continue;\r\n    }\r\n    // Strip disallowed attributes (including style)\r\n    for(const attr of Array.from(el.attributes)){\r\n      const name = attr.name.toLowerCase();\r\n      if(name === 'style' || !ALLOWED_ATTRS.has(name)) el.removeAttribute(attr.name);\r\n    }\r\n    if(el.getAttribute && el.getAttribute('style')) el.removeAttribute('style');\r\n    if(/h[1-6]/.test(tag) && el.getAttribute && el.getAttribute('style')) el.removeAttribute('style');\r\n    if(tag === 'a') enforceLinkPolicy(el);\r\n    if(tag === 'ul' && el.getAttribute('data-list') === 'task'){\r\n      el.querySelectorAll('li').forEach(li=>{ if(!li.hasAttribute('data-checked')) li.setAttribute('data-checked','false'); });\r\n    }\r\n    if(tag === 'span' && el.classList.contains('math')){\r\n      // Allow math spans but sanitize content\r\n      el.textContent = el.textContent.replace(/[<>&]/g, ''); // Basic sanitization\r\n    }\r\n    if(tag === 'table'){\r\n      // Ensure structure: table>thead?+tbody? allowed; move stray tr into tbody\r\n      const rows=[...el.children].filter(c=> c.tagName && c.tagName.toLowerCase()==='tr');\r\n      if(rows.length){\r\n        let tbody=el.querySelector('tbody'); if(!tbody){ tbody=document.createElement('tbody'); el.appendChild(tbody); }\r\n        rows.forEach(r=> tbody.appendChild(r));\r\n      }\r\n      // Remove disallowed descendants\r\n      [...el.querySelectorAll('*')].forEach(child=>{\r\n        const ct = child.tagName.toLowerCase();\r\n        if(!['table','thead','tbody','tr','th','td'].includes(ct)) child.remove();\r\n      });\r\n    }\r\n  }\r\n  toRemove.forEach(n=> n.remove());\r\n  // Final sweep: remove any lingering style attributes\r\n  root.querySelectorAll && root.querySelectorAll('[style]').forEach(el=> el.removeAttribute('style'));\r\n}\r\n","// Lightweight selection bookmark utilities.\r\nexport function captureBookmark(root){\r\n  const sel = document.getSelection();\r\n  if(!sel || sel.rangeCount===0) return null;\r\n  const range = sel.getRangeAt(0);\r\n  return { anchor: pathTo(root, range.startContainer, range.startOffset), focus: pathTo(root, range.endContainer, range.endOffset) };\r\n}\r\n\r\nexport function restoreBookmark(root, bookmark){\r\n  if(!bookmark) return;\r\n  const sel = document.getSelection(); if(!sel) return;\r\n  const range = document.createRange();\r\n  const anchor = nodeFromPath(root, bookmark.anchor); const focus = nodeFromPath(root, bookmark.focus);\r\n  if(!anchor || !focus) return;\r\n  range.setStart(anchor.node, Math.min(bookmark.anchor.offset, anchor.nodeLength));\r\n  range.setEnd(focus.node, Math.min(bookmark.focus.offset, focus.nodeLength));\r\n  sel.removeAllRanges(); sel.addRange(range);\r\n}\r\n\r\nfunction pathTo(root, node, offset){\r\n  const path=[]; let n=node;\r\n  while(n && n!==root){ const parent=n.parentNode; if(!parent) break; const idx=Array.prototype.indexOf.call(parent.childNodes,n); path.push(idx); n=parent; }\r\n  return { indexes:path, offset }; // indexes from leaf up\r\n}\r\nfunction nodeFromPath(root, info){ if(!info) return null; let node=root; const rev=[...info.indexes]; while(rev.length){ const idx=rev.shift(); node = node.childNodes[idx]; if(!node) return null; } const TEXT = (typeof Node!=='undefined' && Node.TEXT_NODE) ? Node.TEXT_NODE : 3; return { node, nodeLength: node.nodeType===TEXT ? node.textContent.length : node.childNodes.length }; }\r\n","import { normalize } from './Normalizer.js';\r\nimport { captureBookmark, restoreBookmark } from './Selection.js';\r\n\r\nexport class CommandBus {\r\n  constructor(editor){ this.editor = editor; this._registry = new Map(); }\r\n  register(name, fn){ this._registry.set(name, fn); }\r\n  exec(name, opts){ const cmd=this._registry.get(name); if(!cmd) return false; this.editor._transaction((ed)=>cmd(ed, opts||{}));\r\n    if(name !== 'noop' && this.editor._live) {\r\n      const friendly = name.replace('strong','bold').replace('em','italic').replace('u','underline').replace('block:','heading ').replace('list:','list ').replace('link:','link ');\r\n      this.editor._live.textContent = `Applied ${friendly}`;\r\n    }\r\n    // Fire custom event so toolbar can refresh aria-pressed state immediately\r\n    try {\r\n      let ev;\r\n      if(typeof CustomEvent === 'function') ev = new CustomEvent('rtx-command', { bubbles:true, detail:{ name } });\r\n      else {\r\n        ev = document.createEvent('CustomEvent');\r\n        ev.initCustomEvent('rtx-command', true, false, { name });\r\n      }\r\n      this.editor.content.dispatchEvent(ev);\r\n    } catch(_) { /* non-fatal in headless */ }\r\n    return true; }\r\n}\r\n\r\nexport function markCommand(tag){\r\n  return (editor)=>{\r\n    // Prefer native execCommand when available (real browsers) for rich behavior (range merging, etc.)\r\n    const mapping = { strong:'bold', em:'italic', u:'underline' };\r\n    if(typeof document.execCommand === 'function' && mapping[tag]){\r\n      try { document.execCommand(mapping[tag]); return; } catch(_) { /* fall back */ }\r\n    }\r\n    // Fallback implementation (jsdom / non-rich environments): simple wrap / unwrap\r\n    const sel = document.getSelection();\r\n    if(!sel || sel.rangeCount===0 || sel.isCollapsed) return;\r\n    const range = sel.getRangeAt(0);\r\n    let startNode = range.startContainer;\r\n    while(startNode && startNode.nodeType===3) startNode = startNode.parentNode;\r\n    let endNode = range.endContainer;\r\n    while(endNode && endNode.nodeType===3) endNode = endNode.parentNode;\r\n    if(startNode === endNode && startNode && startNode.tagName && startNode.tagName.toLowerCase()===tag){\r\n      // Toggle off: unwrap\r\n      const el = startNode;\r\n      const frag = document.createDocumentFragment();\r\n      while(el.firstChild) frag.appendChild(el.firstChild);\r\n      el.parentNode.replaceChild(frag, el);\r\n      return;\r\n    }\r\n    const wrapper = document.createElement(tag);\r\n    wrapper.appendChild(range.extractContents());\r\n    range.insertNode(wrapper);\r\n    // Reselect new contents\r\n    sel.removeAllRanges();\r\n    const nr = document.createRange(); nr.selectNodeContents(wrapper); sel.addRange(nr);\r\n  };\r\n}\r\n\r\nexport class EditorCore {\r\n  constructor(textarea, options){\r\n    this.textarea = textarea; this.options=options||{};\r\n    this.root = this._build();\r\n    this.content = this.root.querySelector('.rtx-content');\r\n    this.bus = new CommandBus(this);\r\n  // Ensure noop command exists for tests / internal refresh triggers\r\n  this.bus.register('noop', () => {});\r\n  this.history = { stack: [], index: -1, batching: false, lastTypeTs: 0, limit: (this.options.historyLimit||100) };\r\n    this._setInterval = this.options._setInterval || setInterval;\r\n    if(this.options.autosaveIntervalMs){\r\n      this._autosaveTimer = this._setInterval(()=>{\r\n        const val = this.serialize();\r\n        if(this._lastAutosaveValue !== val){\r\n          this._lastAutosaveValue = val;\r\n          if(typeof this.options.onAutosave === 'function') this.options.onAutosave(val);\r\n        }\r\n      }, this.options.autosaveIntervalMs);\r\n    }\r\n    this._wire();\r\n  }\r\n  _build(){\r\n    const w=document.createElement('div'); w.className='rtx-editor';\r\n    const tb=document.createElement('div'); tb.className='rtx-toolbar'; tb.setAttribute('role','toolbar'); tb.setAttribute('aria-label','Formatting toolbar');\r\n    const c=document.createElement('div'); c.className='rtx-content'; c.contentEditable='true'; c.setAttribute('role','textbox'); c.setAttribute('aria-multiline','true');\r\n  const live=document.createElement('div'); live.className='rtx-live'; live.setAttribute('aria-live','polite'); live.style.position='absolute'; live.style.left='-9999px'; live.style.height='1px'; live.style.overflow='hidden';\r\n  w.appendChild(tb); w.appendChild(c); w.appendChild(live); this._live=live; this.textarea.style.display='none'; this.textarea.parentNode.insertBefore(w, this.textarea.nextSibling); return w;\r\n  }\r\n  _wire(){\r\n    // Input (typing) -> transactional with batching\r\n    this.content.addEventListener('input', ()=> {\r\n      const now = performance.now();\r\n      const gap = now - this.history.lastTypeTs;\r\n      const shouldNewEntry = gap > 600; // simple idle threshold\r\n  this._transaction(()=>{}, { pushHistory: shouldNewEntry });\r\n      this.history.lastTypeTs = now;\r\n    });\r\n    // Paste pipeline\r\n    this.content.addEventListener('paste', e => {\r\n      e.preventDefault();\r\n      const html = e.clipboardData && e.clipboardData.getData('text/html');\r\n      const text = e.clipboardData && e.clipboardData.getData('text/plain');\r\n      this._transaction(()=>{\r\n        if(html) {\r\n          const frag = document.createElement('div');\r\n          frag.innerHTML = html;\r\n          normalize(frag); // clean before insert\r\n          this._insertFragmentAtSelection(frag);\r\n        } else if(text) {\r\n          document.execCommand('insertText', false, text);\r\n        }\r\n      }, { pushHistory: true });\r\n    });\r\n    // Keyboard shortcuts\r\n    this.content.addEventListener('keydown', e => {\r\n      const mod = e.metaKey || e.ctrlKey;\r\n      const key = e.key.toLowerCase();\r\n      \r\n      // Task list toggle with Enter or Space\r\n      if((key === 'enter' || key === ' ') && !mod){\r\n        const sel = document.getSelection();\r\n        if(sel.rangeCount > 0){\r\n          let node = sel.anchorNode;\r\n          while(node && node !== this.content){\r\n            if(node.nodeType === 1 && node.tagName.toLowerCase() === 'li'){\r\n              const ul = node.parentNode;\r\n              if(ul && ul.tagName.toLowerCase() === 'ul' && ul.getAttribute('data-list') === 'task'){\r\n                e.preventDefault();\r\n                const current = node.getAttribute('data-checked') === 'true' ? 'true' : 'false';\r\n                const next = current === 'true' ? 'false' : 'true';\r\n                node.setAttribute('data-checked', next);\r\n                this._pushHistory();\r\n                return;\r\n              }\r\n            }\r\n            node = node.parentNode;\r\n          }\r\n        }\r\n      }\r\n      \r\n      if(mod && key === 'z'){ // undo / redo\r\n        e.preventDefault();\r\n        if(e.shiftKey) this.redo(); else this.undo();\r\n        return;\r\n      }\r\n      if(mod && (key === 'b' || key==='i' || key==='u')){ // formatting\r\n        e.preventDefault();\r\n        const map = { b:'strong', i:'em', u:'u' };\r\n        this.bus.exec(map[key]);\r\n        return;\r\n      }\r\n      if(mod && e.altKey && ['0','1','2','3'].includes(e.key)){\r\n        e.preventDefault();\r\n        const hMap = { '0':'p', '1':'h1', '2':'h2', '3':'h3' };\r\n        this.bus.exec('block:'+hMap[e.key]);\r\n        return;\r\n      }\r\n      if(key === 'tab'){\r\n        if(this._maybeHandleListIndent(e)) return; // prevent default inside handler\r\n      }\r\n    });\r\n    this.content.innerHTML = this.textarea.value || '<p></p>';\r\n    this._pushHistory();\r\n  }\r\n  _transaction(worker, opts={}){\r\n    const bm = captureBookmark(this.content);\r\n    worker(this);\r\n    normalize(this.content);\r\n    restoreBookmark(this.content, bm);\r\n    this.textarea.value = this.serialize();\r\n    if(typeof this.options.onChange === 'function') this.options.onChange(this.textarea.value);\r\n    if(opts.pushHistory) this._pushHistory();\r\n  }\r\n  _pushHistory(){\r\n    // Truncate redo tail\r\n    if(this.history.index < this.history.stack.length -1){\r\n      this.history.stack = this.history.stack.slice(0, this.history.index+1);\r\n    }\r\n    this.history.stack.push({ html: this.serialize() });\r\n    this.history.index = this.history.stack.length -1;\r\n    if(this.history.stack.length > this.history.limit){\r\n      // Drop oldest\r\n      const overflow = this.history.stack.length - this.history.limit;\r\n      this.history.stack.splice(0, overflow);\r\n      this.history.index -= overflow;\r\n    }\r\n  }\r\n  undo(){\r\n    if(this.history.index <=0) return;\r\n    this.history.index--;\r\n    this._restoreHistoryEntry();\r\n  }\r\n  redo(){\r\n    if(this.history.index >= this.history.stack.length -1) return;\r\n    this.history.index++;\r\n    this._restoreHistoryEntry();\r\n  }\r\n  _restoreHistoryEntry(){\r\n    const entry = this.history.stack[this.history.index];\r\n    if(!entry) return;\r\n    this.content.innerHTML = entry.html;\r\n    normalize(this.content);\r\n    this.textarea.value = this.serialize();\r\n  }\r\n  _insertFragmentAtSelection(frag){\r\n    const sel = document.getSelection(); if(!sel || sel.rangeCount===0) return;\r\n    const range = sel.getRangeAt(0); range.deleteContents();\r\n    while(frag.firstChild){ range.insertNode(frag.firstChild); }\r\n    // Move caret to end of inserted content\r\n    sel.collapse(range.endContainer, range.endOffset);\r\n  }\r\n  _maybeHandleListIndent(e){\r\n    // Returns true if handled\r\n    const sel = document.getSelection();\r\n    if(!sel || sel.rangeCount===0) return false;\r\n    let node = sel.getRangeAt(0).startContainer;\r\n    while(node && node !== this.content && node.nodeType===3) node = node.parentNode;\r\n    while(node && node.tagName && node.tagName.toLowerCase() !== 'li' && node !== this.content) node = node.parentNode;\r\n    if(!node || node===this.content) return false;\r\n    const li = node;\r\n    const list = li.parentNode;\r\n    if(e.shiftKey){ // outdent\r\n      const parentLi = list.parentNode && list.parentNode.tagName && list.parentNode.tagName.toLowerCase()==='li' ? list.parentNode : null;\r\n      e.preventDefault();\r\n      if(parentLi){\r\n      const ancestorList = parentLi.parentNode; // ul/ol\r\n      ancestorList.insertBefore(li, parentLi.nextSibling);\r\n      if(list.children.length===0) list.remove();\r\n      this._transaction(()=>{}, { pushHistory: true });\r\n      return true;\r\n      } else if(list.parentNode === this.content){\r\n      // Already top-level: no action\r\n      return false;\r\n      }\r\n      return false;\r\n    } else { // indent\r\n      const prev = li.previousElementSibling;\r\n      if(!prev) return false; // cannot indent first\r\n      e.preventDefault();\r\n      let sublist = Array.from(prev.children).reverse().find(ch => ch.tagName && (ch.tagName.toLowerCase()==='ul' || ch.tagName.toLowerCase()==='ol'));\r\n      if(!sublist){\r\n        sublist = document.createElement(list.tagName.toLowerCase());\r\n        prev.appendChild(sublist);\r\n      }\r\n      sublist.appendChild(li);\r\n      this._transaction(()=>{}, { pushHistory: true });\r\n      return true;\r\n    }\r\n  }\r\n  serialize(){ return this.content.innerHTML; }\r\n  triggerSave(){ this.textarea.value = this.serialize(); }\r\n  exportPlainText(){\r\n    // Basic block separation by newlines\r\n    const clone = this.content.cloneNode(true);\r\n    clone.querySelectorAll('script,style').forEach(n=> n.remove());\r\n    return clone.textContent.replace(/\\n{2,}/g,'\\n').trim();\r\n  }\r\n  exportMarkdown(){\r\n    // Ultra-minimal mapping\r\n    const out=[];\r\n    for(const child of this.content.children){\r\n      const tag=child.tagName.toLowerCase();\r\n      let line='';\r\n      if(tag==='p') line = child.textContent.trim();\r\n      else if(/^h[1-6]$/.test(tag)) line = '#'.repeat(parseInt(tag[1])) + ' ' + child.textContent.trim();\r\n      else if(tag==='ul'){\r\n        child.querySelectorAll(':scope > li').forEach(li=> out.push('- '+li.textContent.trim()));\r\n        continue;\r\n      } else if(tag==='ol'){\r\n        let i=1; child.querySelectorAll(':scope > li').forEach(li=> out.push((i++)+'. '+li.textContent.trim()));\r\n        continue;\r\n      } else line = child.textContent.trim();\r\n      out.push(line);\r\n    }\r\n    return out.join('\\n\\n');\r\n  }\r\n  exportHTML(){\r\n    return this.content.innerHTML;\r\n  }\r\n  dispose(){ if(this._autosaveTimer) clearInterval(this._autosaveTimer); }\r\n}\r\n","// Primary public bundle entry for EdNotes Rich Text Editor.\r\n// Exports all public API symbols (previous legacy yourorg bundle removed in 0.2.0).\r\nimport { EditorCore, markCommand } from './core/CommandBus.js';\r\nimport { enforceLinkPolicy } from './core/Schema.js';\r\nimport katex from 'katex';\r\n\r\n// Minimal facade replicating prior RichText export shape.\r\nconst instances = new Set();\r\nfunction _all(){ return Array.from(instances); }\r\n\r\nfunction mountToolbar(editor){\r\n\tconst tb = editor.root.querySelector('.rtx-toolbar');\r\n\tif(!tb) return;\r\n\tconst buttons = [\r\n\t\t{ label:'B', aria:'Bold', cmd:'strong', mark:'strong' },\r\n\t\t{ label:'I', aria:'Italic', cmd:'em', mark:'em' },\r\n\t\t{ label:'U', aria:'Underline', cmd:'u', mark:'u' },\r\n\t\t{ label:'P', aria:'Paragraph', cmd:'block:p', block:'p' },\r\n\t\t{ label:'H1', aria:'Heading 1', cmd:'block:h1', block:'h1' },\r\n\t\t{ label:'H2', aria:'Heading 2', cmd:'block:h2', block:'h2' },\r\n\t\t{ label:'H3', aria:'Heading 3', cmd:'block:h3', block:'h3' },\r\n\t\t{ label:'â€¢', aria:'Bullet List', cmd:'list:ul', list:'ul' },\r\n\t\t{ label:'1.', aria:'Numbered List', cmd:'list:ol', list:'ol' },\r\n\t\t{ label:'ðŸ”—', aria:'Add Link', cmd:'link:add' },\r\n\t\t{ label:'âœ–', aria:'Remove Link', cmd:'link:remove' },\r\n\t\t{ label:'â˜‘', aria:'Task List', cmd:'list:task' },\r\n\t\t{ label:'âˆ‘', aria:'Math Equation', cmd:'math:add' }\r\n\t];\r\n\tconst btnEls=[];\r\n\tbuttons.forEach((b,i)=>{\r\n\t\tconst btn=document.createElement('button');\r\n\t\tbtn.type='button'; btn.textContent=b.label; btn.setAttribute('aria-label',b.aria); btn.dataset.cmd=b.cmd; btn.tabIndex = i===0?0:-1;\r\n\t\tbtn.addEventListener('click',()=> editor.bus.exec(b.cmd));\r\n\t\tbtn.addEventListener('keydown', e=>{\r\n\t\t\tif(e.key==='ArrowRight'||e.key==='ArrowLeft'){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst dir = e.key==='ArrowRight'?1:-1;\r\n\t\t\t\tlet idx = btnEls.indexOf(btn)+dir; if(idx<0) idx=btnEls.length-1; if(idx>=btnEls.length) idx=0;\r\n\t\t\t\tbtnEls.forEach(b2=> b2.tabIndex=-1); btnEls[idx].tabIndex=0; btnEls[idx].focus();\r\n\t\t\t}\r\n\t\t});\r\n\t\ttb.appendChild(btn); btnEls.push(btn);\r\n\t});\r\n}\r\n\r\nexport const RichText = {\r\n\tattach(selector, options={}){\r\n\t\tconst nodes = document.querySelectorAll(selector);\r\n\t\tif(nodes.length===0){\r\n\t\t\tconsole.warn('[EdNotes.RichText] No elements matched selector', selector);\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tnodes.forEach(t=>{\r\n\t\t\tif(t._rtxAttached) return; t._rtxAttached=true;\r\n\t\t\tconst ed = new EditorCore(t, options);\r\n\t\t\ted.bus.register('strong', markCommand('strong'));\r\n\t\t\ted.bus.register('em', markCommand('em'));\r\n\t\t\ted.bus.register('u', markCommand('u'));\r\n\t\t\ted.bus.register('block:p', blockCommand('p'));\r\n\t\t\ted.bus.register('block:h1', blockCommand('h1'));\r\n\t\t\ted.bus.register('block:h2', blockCommand('h2'));\r\n\t\t\ted.bus.register('block:h3', blockCommand('h3'));\r\n\t\t\ted.bus.register('list:ul', listCommand('ul'));\r\n\t\t\ted.bus.register('list:ol', listCommand('ol'));\r\n\t\t\ted.bus.register('link:add', linkAddCommand(options));\r\n\t\t\ted.bus.register('link:remove', linkRemoveCommand());\r\n\t\t\ted.bus.register('list:task', taskListCommand());\r\n\t\t\ted.bus.register('math:add', mathCommand(options));\r\n\t\t\tmountToolbar(ed);\r\n\t\t\ted.root.setAttribute('data-rtx-attached','true');\r\n\t\t\tt.setAttribute('data-rtx-source','true');\r\n\t\t\tinstances.add(ed);\r\n\t\t});\r\n\t\treturn nodes.length;\r\n\t},\r\n\ttriggerSave(){ instances.forEach(i=> i.triggerSave()); },\r\n\tundo(){ instances.forEach(i=> i.undo()); },\r\n\tredo(){ instances.forEach(i=> i.redo()); },\r\n\texportAllPlain(){ return _all().map(i=> i.exportPlainText()); },\r\n\texportAllMarkdown(){ return _all().map(i=> i.exportMarkdown()); },\r\n\texportAllHTML(){ return _all().map(i=> i.exportHTML()); },\r\n\tenforceLinkPolicy,\r\n\t_all,\r\n\t_clearInstances: () => instances.clear(),\r\n};\r\n\r\n// Version injected manually (consider automated replacement in future build step)\r\n// Bump version for documentation/demo fixes (theme switching + demo content adjustments)\r\nRichText.version = '0.5.0';\r\n\r\nfunction blockCommand(tag){\r\n\treturn (ed)=>{\r\n\t\tconst sel = document.getSelection(); if(!sel || sel.rangeCount===0) return;\r\n\t\tconst range = sel.getRangeAt(0);\r\n\t\tlet node = range.startContainer;\r\n\t\twhile(node && node !== ed.content && node.nodeType === 3) node = node.parentNode;\r\n\t\twhile(node && node.parentNode !== ed.content) node = node.parentNode;\r\n\t\tif(!node) return;\r\n\t\tif(node.tagName && node.tagName.toLowerCase() === tag) return;\r\n\t\tconst replacement = document.createElement(tag);\r\n\t\treplacement.innerHTML = node.innerHTML || '<br />';\r\n\t\ted.content.replaceChild(replacement, node);\r\n\t};\r\n}\r\nfunction listCommand(listTag){\r\n\treturn (ed)=>{\r\n\t\tconst sel = document.getSelection(); if(!sel || sel.rangeCount===0) return;\r\n\t\tconst range = sel.getRangeAt(0);\r\n\t\tlet node = range.startContainer;\r\n\t\twhile(node && node !== ed.content && node.nodeType === 3) node = node.parentNode;\r\n\t\twhile(node && node.parentNode !== ed.content) node = node.parentNode;\r\n\t\tif(!node) return;\r\n\t\tconst tag = node.tagName ? node.tagName.toLowerCase() : '';\r\n\t\tif(tag === 'ul' || tag === 'ol'){\r\n\t\t\tconst frag = document.createDocumentFragment();\r\n\t\t\tArray.from(node.querySelectorAll('li')).forEach(li=>{\r\n\t\t\t\tconst p=document.createElement('p'); p.innerHTML = li.innerHTML || '<br />'; frag.appendChild(p);\r\n\t\t\t});\r\n\t\t\ted.content.replaceChild(frag, node);\r\n\t\t} else {\r\n\t\t\tconst list = document.createElement(listTag);\r\n\t\t\tconst li = document.createElement('li'); li.innerHTML = node.innerHTML || '<br />'; list.appendChild(li);\r\n\t\t\ted.content.replaceChild(list, node);\r\n\t\t}\r\n\t};\r\n}\r\nfunction linkAddCommand(options){\r\n\treturn (ed)=>{\r\n\t\tconst sel = document.getSelection(); if(!sel || sel.rangeCount===0) return;\r\n\t\tconst url = (options && options.promptLink)? options.promptLink() : (typeof window.prompt==='function'? window.prompt('Enter URL (https://...)','https://') : null);\r\n\t\tif(!url) return;\r\n\t\tconst a=document.createElement('a'); a.href=url; enforceLinkPolicy(a);\r\n\t\tconst range = sel.getRangeAt(0);\r\n\t\tif(range.collapsed){ a.textContent=url; range.insertNode(a); sel.collapse(a, a.childNodes.length); }\r\n\t\telse {\r\n\t\t\tconst txt=range.extractContents(); a.appendChild(txt); range.insertNode(a);\r\n\t\t}\r\n\t\ted.bus.exec('noop');\r\n\t};\r\n}\r\nfunction linkRemoveCommand(){\r\n\treturn (ed)=>{\r\n\t\tconst sel = document.getSelection(); if(!sel || sel.rangeCount===0) return;\r\n\t\tlet node = sel.anchorNode || sel.focusNode;\r\n\t\twhile(node && node!==ed.content && (!node.tagName || node.tagName.toLowerCase()!=='a')) node=node.parentNode;\r\n\t\tif(node && node.tagName && node.tagName.toLowerCase()==='a'){\r\n\t\t\tconst parent=node.parentNode; while(node.firstChild) parent.insertBefore(node.firstChild, node); node.remove();\r\n\t\t\ted._transaction(()=>{}, { pushHistory: true });\r\n\t\t}\r\n\t};\r\n}\r\nfunction taskListCommand(){\r\n\treturn (ed)=>{\r\n\t\tconst sel=document.getSelection(); if(!sel||sel.rangeCount===0) return;\r\n\t\tlet node=sel.anchorNode; while(node && node!==ed.content && node.nodeType===3) node=node.parentNode;\r\n\t\twhile(node && node.parentNode !== ed.content) node=node.parentNode;\r\n\t\tif(!node) return;\r\n\t\tconst tag=node.tagName?node.tagName.toLowerCase():'';\r\n\t\tif(tag==='ul' && node.getAttribute('data-list')==='task'){\r\n\t\t\tnode.removeAttribute('data-list'); node.querySelectorAll('li').forEach(li=> li.removeAttribute('data-checked'));\r\n\t\t} else if(tag==='ul') { node.setAttribute('data-list','task'); node.querySelectorAll('li').forEach(li=>{ if(!li.hasAttribute('data-checked')) li.setAttribute('data-checked','false'); }); }\r\n\t\telse {\r\n\t\t\tconst ul=document.createElement('ul'); ul.setAttribute('data-list','task');\r\n\t\t\tconst li=document.createElement('li'); li.setAttribute('data-checked','false'); li.innerHTML=node.innerHTML || '<br />'; ul.appendChild(li); ed.content.replaceChild(ul,node);\r\n\t\t}\r\n\t};\r\n}\r\nfunction mathCommand(options){\r\n\treturn (ed)=>{\r\n\t\tconst sel = document.getSelection(); if(!sel || sel.rangeCount===0) return;\r\n\t\tconst latex = (options && options.promptMath)? options.promptMath() : (typeof window.prompt==='function'? window.prompt('Enter LaTeX:','x^2') : null);\r\n\t\tif(!latex) return;\r\n\t\tconst span = document.createElement('span');\r\n\t\tspan.className = 'math';\r\n\t\tspan.textContent = latex;\r\n\t\ttry {\r\n\t\t\tkatex.render(latex, span, { throwOnError: false });\r\n\t\t} catch(e) {\r\n\t\t\tspan.textContent = '[Math Error]';\r\n\t\t}\r\n\t\tconst range = sel.getRangeAt(0);\r\n\t\trange.deleteContents();\r\n\t\trange.insertNode(span);\r\n\t\tsel.collapse(span.nextSibling || span, 0);\r\n\t\ted.bus.exec('noop');\r\n\t};\r\n}\r\nif(typeof window!== 'undefined') window.RichText = RichText;\r\n"],"names":[],"mappings":"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"}